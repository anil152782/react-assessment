(this["webpackJsonpreact-ass"]=this["webpackJsonpreact-ass"]||[]).push([[0],{31:function(e,t,a){e.exports={feedHeader:"Header_feedHeader__YiRxU"}},32:function(e,t){e.exports="data:image/gif;base64,R0lGODlhCgAKALMJANPT06enp/b29r+/v52dnfn5+bq6usLCwpqamv///wAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAkALAAAAAAKAAoAAAQcMMlJq712GIzQDV1QFV0nUETZTYDaAdIhz3ISAQA7"},36:function(e,t,a){e.exports={timeLineChart:"Timeline_timeLineChart__2rwtP"}},37:function(e,t,a){e.exports={pagination:"Pagination_pagination__1Z03K"}},40:function(e,t,a){e.exports=a(70)},45:function(e,t,a){},46:function(e,t,a){},7:function(e,t,a){e.exports={feedListing:"FeedBody_feedListing__1OI6t",upvoteCount:"FeedBody_upvoteCount__1fZiV",upvoted:"FeedBody_upvoted__3-pok",upvoteIcon:"FeedBody_upvoteIcon__9p9d-",hideFeed:"FeedBody_hideFeed__2szEK",feedTitle:"FeedBody_feedTitle__390EX",feedAuthor:"FeedBody_feedAuthor__1RqCD",feedCreatedTime:"FeedBody_feedCreatedTime__2MYWn",feedDomain:"FeedBody_feedDomain__1ES9B"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),c=a.n(r),i=(a(45),a(46),a(1)),l=a(13),d=a(12),s=a(31),u=a.n(s),m=[{id:1,key:"Commnets"},{id:2,key:"Vote Count"},{id:3,key:"Upvote"},{id:4,key:"News Details"}],p=[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60},{label:"second",seconds:0}],f={hAxis:{title:"ID"},vAxis:{title:"Votes"},legend:{position:"none"},pointsVisible:!0},h={key:"pre",value:"Previous"},v={key:"next",value:"Next"};function g(){return o.a.createElement("thead",{className:u.a.feedHeader},o.a.createElement("tr",{"data-testid":"headerItems"},m.map((function(e){return o.a.createElement("th",{key:e.id},e.key)}))))}var b=a(7),A=a.n(b),E=a(32),_=a.n(E);function y(e){var t=e.feedsData,a=e.upvote,n=e.hideFeed;return o.a.createElement("tbody",{className:A.a.feedListing,"data-testid":"feedItems"},t.map((function(e,t){return o.a.createElement("tr",{key:e.objectID},o.a.createElement("td",null,o.a.createElement("span",{className:A.a.comentCount},e.num_comments?e.num_comments:0)),o.a.createElement("td",{className:[A.a.upvoteCount,e.upvoted?A.a.upvoted:""].join(" ")},e.points?e.upvoted?e.points+1:e.points:e.upvoted?1:0),o.a.createElement("td",null,o.a.createElement("button",{"data-testid":"upvoteFeed",onClick:function(){return a(e)}},o.a.createElement("img",{className:A.a.upvoteIcon,src:_.a,alt:"upvote"}))),o.a.createElement("td",null," ",o.a.createElement("span",{className:A.a.feedTitle}," ",e.title),o.a.createElement("span",{className:A.a.feedDomain}," ",(r=e.url)?"(".concat(new URL(r).hostname,")"):""," "),"by",o.a.createElement("span",{className:A.a.feedAuthor}," ",e.author),o.a.createElement("span",{className:A.a.feedCreatedTime},function(e){var t=new Date(e),a=Math.floor((Date.now()-t.getTime())/1e3),n=p.find((function(e){return e.seconds<a})),o=Math.floor(a/n.seconds);return"".concat(o," ").concat(n.label).concat(1!==o?"s":""," ago")}(e.created_at)),o.a.createElement("button",{"data-testid":"hideFeed",onClick:function(){return n(e)},className:["cursorPointer",A.a.hideFeed].join(" ")},"[hide]")));var r})))}var I=a(17),O=a.n(I),j=a(33),F=a(11),N=a.n(F);function D(){return(D=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/api/v1/search?page=".concat(t,"&&hitsPerPage=").concat(10));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=a(39),k=a(34),C=a(36),x=a.n(C),w=function(e){var t=e.chartData,a=[["Id","Votes"]].concat(Object(S.a)(t.map((function(e,t){return e.objectID?[+e.objectID,e.points]:[]}))));return o.a.createElement("div",{className:x.a.timeLineChart},o.a.createElement(k.a,{chartType:"LineChart",loader:o.a.createElement("div",null,"Loading Chart"),data:a,options:f}))},J=a(37),B=a.n(J),L=function(e){var t=e.paginationEvent,a=e.prebtnHidden,n=e.nextbtnHidden;return o.a.createElement("div",{className:B.a.pagination,"data-testid":"paginationItems"},!a&&o.a.createElement("button",{onClick:function(){return t(h.key)}},h.value),!n&&o.a.createElement("button",{onClick:function(){return t(v.key)}},v.value))},T=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(d.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(null),p=Object(d.a)(m,2),f=p[0],h=p[1],b=Object(n.useState)(0),A=Object(d.a)(b,2),E=A[0],_=A[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("hiddenFeeds")),t=JSON.parse(localStorage.getItem("upvotedFeeds")),a=e||[],n=t||[];localStorage.setItem("hiddenFeeds",JSON.stringify(a)),localStorage.setItem("upvotedFeeds",JSON.stringify(n))}),[]),Object(n.useEffect)((function(){r(!0),function(e){return D.apply(this,arguments)}(E).then((function(e){var t=JSON.parse(localStorage.getItem("hiddenFeeds")),a=JSON.parse(localStorage.getItem("upvotedFeeds")),n=e.hits;t.length>0&&n.length>0&&(n=e.hits.filter((function(e){return this.indexOf(e.objectID)<0}),t)),a.length>0&&n.length>0&&(n=n.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{upvoted:!(this.indexOf(e.objectID)<0)})}),a)),r(!1),u(n),h(e.nbPages)})).catch((function(e){r(!1),u([]),h(null)}))}),[E]),o.a.createElement(o.a.Fragment,null,!a&&0===s.length&&o.a.createElement("p",{"data-testid":"noData"},"Please clear local storage and reload!"),a&&o.a.createElement("div",{"data-testid":"loader",className:"loader"}),!a&&s.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",null,o.a.createElement(g,null),o.a.createElement(y,{upvote:function(e){if(!e.upvoted){var t=JSON.parse(localStorage.getItem("upvotedFeeds"))||[];t.push(e.objectID),localStorage.setItem("upvotedFeeds",JSON.stringify(t));var a=s;a=a.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{upvoted:!(t.indexOf(e.objectID)<0)})})),u(a)}},hideFeed:function(e){var t=JSON.parse(localStorage.getItem("hiddenFeeds"))||[];t.push(e.objectID),localStorage.setItem("hiddenFeeds",JSON.stringify(t));var a=s;a=a.filter((function(t){return t.objectID!==e.objectID})),u(a)},feedsData:s})),o.a.createElement(L,{prebtnHidden:0===E,nextbtnHidden:E===f-1,paginationEvent:function(e){e===v.key?_(E+1):_((function(e){return e-1}))}})),o.a.createElement(w,{chartData:s})))},H=function(){return o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/",component:T}),o.a.createElement(i.a,{from:"/",to:"/"}))},P=function(){return o.a.createElement("main",null,o.a.createElement(H,null))};N.a.defaults.headers.common={"Content-Type":"application/json"},N.a.defaults.baseURL="https://hn.algolia.com";var V=a(16);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(V.a,null,o.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.c4d335bf.chunk.js.map